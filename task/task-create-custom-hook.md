Hook(s) should be place in `app\hooks\chat`

It should be implement in a clean, explicit and easy to understand way.

If hook are too complex, it should be split into multiple hooks.

The flow should be clear and simple, avoid magic and unnecessary abstractions.
